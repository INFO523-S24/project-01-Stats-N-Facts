{
  "hash": "c8ef6a033aa2a7727c0f265684cd8b7e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: 'Exploring European Drug Development: COVID Vaccine Revisions and Recent Hepatitis B Medications'\nsubtitle: INFO 523 - Project 1\nauthor: Stats-N-Facts\nformat:\n  html:\n    embed-resources: true\n    code-fold: true\nexecute:\n  warning: false\n  error: false\neditor: visual\n---\n\n## Abstract\nThis dataset, an intricate mosaic sourced from the European Medicines Agency, encapsulates the multifaceted landscape of European drug development. Housing 1988 records and boasting 28 variables, it unfolds a comprehensive narrative of pharmaceutical products. From fundamental details like medicine categories, therapeutic areas, and active substances to nuanced insights encompassing patient safety indicators, authorization statuses, and regulatory nuances, the dataset is a treasure trove for those deciphering the complex journey from drug conception to authorization.\n\n\n\nNavigating through the dataset reveals crucial regulatory milestones, including marketing authorization dates, refusal details, and designations such as orphan medicine and accelerated assessment. The inclusion of variables indicating generic status, biosimilarity, and revision histories further enriches the dataset, offering a panoramic view of pharmaceutical endeavors in Europe. As we embark on the analysis of this dataset, our objective is to distill valuable insights, uncovering trends and correlations that underpin the intricate dance between regulation and innovation in European drug development.\n\n::: {#c9ee549f .cell execution_count=1}\n``` {.python .cell-code}\n# Load Libraries\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport textwrap\n```\n:::\n\n\n::: {#d9885381 .cell execution_count=2}\n``` {.python .cell-code}\n# Read in the data\nurl = 'data/drugs_dataset.csv'\ndrugs = pd.read_csv(url)\n\ndrugs.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>category</th>\n      <th>medicine_name</th>\n      <th>therapeutic_area</th>\n      <th>common_name</th>\n      <th>active_substance</th>\n      <th>product_number</th>\n      <th>patient_safety</th>\n      <th>authorisation_status</th>\n      <th>atc_code</th>\n      <th>additional_monitoring</th>\n      <th>...</th>\n      <th>marketing_authorisation_holder_company_name</th>\n      <th>pharmacotherapeutic_group</th>\n      <th>date_of_opinion</th>\n      <th>decision_date</th>\n      <th>revision_number</th>\n      <th>condition_indication</th>\n      <th>species</th>\n      <th>first_published</th>\n      <th>revision_date</th>\n      <th>url</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>human</td>\n      <td>Adcetris</td>\n      <td>Lymphoma, Non-Hodgkin;  Hodgkin Disease</td>\n      <td>brentuximab vedotin</td>\n      <td>brentuximab vedotin</td>\n      <td>2455</td>\n      <td>False</td>\n      <td>authorised</td>\n      <td>L01XC12</td>\n      <td>False</td>\n      <td>...</td>\n      <td>Takeda Pharma A/S</td>\n      <td>Antineoplastic agents</td>\n      <td>2012-07-19</td>\n      <td>2022-11-17</td>\n      <td>34.0</td>\n      <td>Hodgkin lymphomaAdcetris is indicated for adul...</td>\n      <td>NaN</td>\n      <td>2018-07-25T13:58:00Z</td>\n      <td>2023-03-13T11:52:00Z</td>\n      <td>https://www.ema.europa.eu/en/medicines/human/E...</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>human</td>\n      <td>Nityr</td>\n      <td>Tyrosinemias</td>\n      <td>nitisinone</td>\n      <td>nitisinone</td>\n      <td>4582</td>\n      <td>False</td>\n      <td>authorised</td>\n      <td>A16AX04</td>\n      <td>False</td>\n      <td>...</td>\n      <td>Cycle Pharmaceuticals (Europe) Ltd</td>\n      <td>Other alimentary tract and metabolism products,</td>\n      <td>2018-05-31</td>\n      <td>2023-03-10</td>\n      <td>4.0</td>\n      <td>Treatment of adult and paediatric patients wit...</td>\n      <td>NaN</td>\n      <td>2018-07-26T14:20:00Z</td>\n      <td>2023-03-10T17:29:00Z</td>\n      <td>https://www.ema.europa.eu/en/medicines/human/E...</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>human</td>\n      <td>Ebvallo</td>\n      <td>Lymphoproliferative Disorders</td>\n      <td>tabelecleucel</td>\n      <td>tabelecleucel</td>\n      <td>4577</td>\n      <td>False</td>\n      <td>authorised</td>\n      <td>NaN</td>\n      <td>True</td>\n      <td>...</td>\n      <td>Pierre Fabre Medicament</td>\n      <td>NaN</td>\n      <td>2022-10-13</td>\n      <td>2023-03-09</td>\n      <td>2.0</td>\n      <td>Ebvallo is indicated as monotherapy for treatm...</td>\n      <td>NaN</td>\n      <td>2022-10-12T16:13:00Z</td>\n      <td>2023-03-10T13:40:00Z</td>\n      <td>https://www.ema.europa.eu/en/medicines/human/E...</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>human</td>\n      <td>Ronapreve</td>\n      <td>COVID-19 virus infection</td>\n      <td>casirivimab, imdevimab</td>\n      <td>casirivimab, imdevimab</td>\n      <td>5814</td>\n      <td>False</td>\n      <td>authorised</td>\n      <td>J06BD</td>\n      <td>True</td>\n      <td>...</td>\n      <td>Roche Registration GmbH</td>\n      <td>Immune sera and immunoglobulins,</td>\n      <td>2021-11-11</td>\n      <td>2023-02-24</td>\n      <td>3.0</td>\n      <td>Ronapreve is indicated for:Treatment of COVID-...</td>\n      <td>NaN</td>\n      <td>2021-11-12T16:30:00Z</td>\n      <td>2023-03-10T12:29:00Z</td>\n      <td>https://www.ema.europa.eu/en/medicines/human/E...</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>human</td>\n      <td>Cosentyx</td>\n      <td>Arthritis, Psoriatic;  Psoriasis;  Spondylitis...</td>\n      <td>secukinumab</td>\n      <td>secukinumab</td>\n      <td>3729</td>\n      <td>False</td>\n      <td>authorised</td>\n      <td>L04AC10</td>\n      <td>False</td>\n      <td>...</td>\n      <td>Novartis Europharm Limited</td>\n      <td>Immunosuppressants</td>\n      <td>2014-11-20</td>\n      <td>2023-01-26</td>\n      <td>30.0</td>\n      <td>Plaque psoriasisCosentyx is indicated for the ...</td>\n      <td>NaN</td>\n      <td>2018-06-07T11:59:00Z</td>\n      <td>2023-03-09T18:53:00Z</td>\n      <td>https://www.ema.europa.eu/en/medicines/human/E...</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows Ã— 28 columns</p>\n</div>\n```\n:::\n:::\n\n\n## Question1-Which COVID vaccines have undergone the most revisions while maintaining an approved authorization status with no conditions applied?\n\n### Introduction\nIn the dynamic landscape of pharmaceutical development, the ongoing refinement and adaptation of COVID vaccines are of paramount importance. As the global community grapples with the challenges posed by the COVID-19 pandemic, regulatory bodies continuously monitor and update the authorization details of vaccines to ensure their efficacy, safety, and adherence to evolving standards. Question 1 of this analysis aims to unravel the intricacies of COVID vaccine development by investigating which vaccines have undergone the most revisions while maintaining an approved authorization status with no applied conditions.\n\nThis inquiry is particularly pertinent in understanding the regulatory response to emerging variants, evolving scientific knowledge, and the pursuit of continuous improvement in vaccine formulations. By focusing on variables such as medicine name, therapeutic area, authorization status, revision number, and conditional approval, the analysis aims to provide insights into the resilience and adaptability of COVID vaccines in the face of ongoing challenges. Through a meticulous examination of the dataset, we aim to identify patterns and trends that shed light on the regulatory landscape surrounding COVID vaccine development in the European context.\n\n### Approach\nThe strategy to uncover COVID vaccines with the most revisions while maintaining approved authorization status and devoid of applied conditions involves a systematic process of data preparation, filtering, and visualization. Beginning with imputation to handle null values in the 'therapeutic_area' column, the dataset is refined by filtering out drugs related to COVID, creating a specialized subset focused on vaccines for the virus. Subsequent steps include the filtration of the dataset to exclusively include authorized medicines and sorting based on 'revision_number' in descending order. This sequential arrangement positions vaccines with the highest revision numbers at the forefront, providing valuable insights into their dynamic regulatory trajectory.\n\nFollowing data preparation and sorting, the extraction of pertinent columns ('medicine_name', 'revision_number', 'therapeutic_area') lays the groundwork for a visually impactful bar plot. This visualization method, chosen for its clarity and interpretability, showcases the top 5 COVID vaccines with the most revisions. The use of color in the plot not only enhances visual appeal but also aids in distinguishing between different vaccines. By amalgamating imputation, filtering, sorting, and visualization techniques, this approach facilitates a comprehensive exploration, offering a nuanced understanding of the regulatory nuances and adaptations of these critical COVID vaccines.\n\n\n## Question 1 Solution\n\n::: {#f3aceacb .cell execution_count=3}\n``` {.python .cell-code}\n# Replace null values with empty string in 'therapeutic_area' column\ndrugs['therapeutic_area'].fillna('', inplace=True)\n\n# Filter COVID vaccines based on 'therapeutic_area'\ncovid_vaccines = drugs[drugs['therapeutic_area'].str.contains('COVID', case=False)]\n\n# Exclude medicines with conditions applied\ncovid_vaccines = covid_vaccines[~covid_vaccines['conditional_approval']]\n\n# Filter the dataset to include only authorised medicines\ncovid_vaccines = covid_vaccines[covid_vaccines['authorisation_status'] == 'authorised']\n\n# Sort the dataset based on 'revision_number' in descending order\ncovid_vaccines_sorted = covid_vaccines.sort_values(by='revision_number', ascending=False)\n\n# Extract relevant columns ('medicine_name' and 'revision_number')\nvaccine_revisions = covid_vaccines_sorted[['revision_number', 'medicine_name', 'therapeutic_area']]\n```\n:::\n\n\n::: {#c9f109af .cell execution_count=4}\n``` {.python .cell-code}\n# Top-5 data\nmedicine_names = vaccine_revisions['medicine_name'][:5]\nrevision_numbers = vaccine_revisions['revision_number'][:5]\n\n# Create a figure and axis object\nfig, ax = plt.subplots(figsize=(10, 6))\n\n# Create bar plot\nbars = ax.bar(medicine_names, revision_numbers, color='skyblue')\n\n# Set labels and title with customized font\nlabel_font = {'fontsize': 12, 'fontweight': 'bold'}\ntitle_font = {'fontsize': 16, 'fontweight': 'bold'}\n\n# Set labels and title\nax.set_xlabel('Medicine Name', fontdict=label_font)\nax.set_ylabel('Revision Number', fontdict=label_font)\nax.set_title('\\n Top 5 COVID vaccines that have undergone the most revisions \\n', fontdict=title_font)\n\n# Wrap long medicine names into two lines\nwrapped_names = [textwrap.fill(name, width=25) for name in medicine_names]\n\n# Set tick labels with line breaks\nax.set_xticklabels(wrapped_names, rotation=30, ha='right')\n\n# Show plot\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-5-output-1.png){width=951 height=568}\n:::\n:::\n\n\n## Question 2-What are the most recently released medicines (name and company) authorized for human usage for 'Hepatitis B'?\n### Introduction\nThe exploration of recent advancements in pharmaceuticals pertaining to Hepatitis B takes center stage. This inquiry delves into identifying the most recently released medicines authorized for human usage in the treatment of Hepatitis B. The dataset provides a diverse array of variables, crucial among them being 'therapeutic_area,' 'category,' 'authorisation_status,' 'marketing_authorisation_holder_company_name,' and 'revision_date.' To unravel the sought-after insights, the analysis focuses on medicines specifically designed for human usage in the category of Hepatitis B.\n\nThe significance of this question lies in its potential to shed light on the cutting-edge developments in the treatment of Hepatitis B, a pertinent public health concern. By honing in on the most recent releases, we gain valuable insights into the innovative landscape of pharmaceuticals targeting this disease. This question not only navigates through regulatory milestones but also taps into the pulse of advancements in Hepatitis B medication, offering a comprehensive view of the latest interventions and the companies spearheading these endeavors. As we embark on this exploration, our interest is piqued by the potential revelations that may contribute to a deeper understanding of the dynamic intersection between regulatory processes and the forefront of pharmaceutical innovation in the context of Hepatitis B.\n\n### Approach\nThe exploration of the most recently released medicines targeting Hepatitis B involves a strategic combination of data filtering and visualization techniques. The initial step focuses on meticulous data filtering, ensuring a targeted analysis by including only medicines related to Hepatitis B in the 'therapeutic_area' variable. Subsequent filters narrow down the dataset to human medicines with authorized status, refining the scope to pharmaceutical interventions specifically designed for human usage and approved for treating Hepatitis B. The critical sorting step organizes the dataset based on the 'revision_date' in descending order, spotlighting the most recent releases and enabling a chronological understanding of advancements in Hepatitis B medication.\n\nFollowing the data preparation steps, the approach shifts to visualization, employing a table representation to succinctly convey detailed information about the most recent Hepatitis B medicines. This choice is driven by the need for precision and efficiency in presenting key details such as medicine name, marketing authorization holder company, and revision date. The custom table incorporates color mapping, utilizing skyblue for column headers to enhance visual appeal and facilitate quick identification of crucial information. This dual-method approach, blending filtering and color-enhanced table representation, not only uncovers the latest developments in Hepatitis B medication but also ensures a visually accessible and comprehensive presentation of the information.\n\n\n\n## Question 2 Solution\n\n::: {#7d7affee .cell execution_count=5}\n``` {.python .cell-code}\n# Replace null values with empty string in 'therapeutic_area' column\ndrugs['therapeutic_area'].fillna('', inplace=True)\n\n# Filter the dataset to include only medicines related to 'Hepatitis B' in the 'therapeutic_area' variable\nhepatitis_b_medicines = drugs[drugs['therapeutic_area'].str.contains('Hepatitis B', case=False)]\n\n# Filter the dataset to include only medicines for humans in the 'category' variable\nhuman_hepatitis_b_medicines = hepatitis_b_medicines[hepatitis_b_medicines['category'] == 'human']\n\n# Filter the dataset to include only authorised medicines\nauthorised_hepatitis_b_medicines = human_hepatitis_b_medicines[human_hepatitis_b_medicines['authorisation_status'] == 'authorised']\n\n# Sort the dataset based on the 'revision_date' in descending order to get the most recently revised medicines\nrecently_revised_medicines = authorised_hepatitis_b_medicines.sort_values(by='revision_date', ascending=False)\n\n# Extract and display the relevant columns ('medicine_name' and 'marketing_authorisation_holder_company_name') for the most recently revised medicines\ntop_5_result = recently_revised_medicines[['medicine_name', 'marketing_authorisation_holder_company_name', 'revision_date']].head(5)\n\n# Extract only the date part using string operations\ntop_5_result['revision_date'] = top_5_result['revision_date'].str[:10]\n\nprint(top_5_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       medicine_name marketing_authorisation_holder_company_name revision_date\n134          Vaxelis                            MCM Vaccine B.V.    2023-02-20\n345         Hexacima                              Sanofi Pasteur    2023-01-06\n346           Hexyon                       Sanofi Pasteur Europe    2023-01-06\n360           Viread                  Gilead Sciences Ireland UC    2023-01-04\n535  Lamivudine Teva                                   Teva B.V.    2022-11-17\n```\n:::\n:::\n\n\n::: {#cf5c2ed7 .cell execution_count=6}\n``` {.python .cell-code}\n# Custom column labels\ncustom_col_labels = ['Medicine Name', 'Company Name', 'Revision Date']\n\n# Draw a table to display the result\nplt.figure(figsize=(8, 2.5))\ntable = plt.table(cellText=top_5_result.values,\n                  colLabels=custom_col_labels,\n                  loc='center',\n                  cellLoc='center',\n                  colColours=['skyblue']*len(top_5_result.columns),\n                  cellColours=[['lightgrey']*len(top_5_result.columns)]*len(top_5_result),\n                  fontsize=10)\n\ntable.auto_set_font_size(False)\ntable.set_fontsize(10)\ntable.scale(1, 1.5)  # Adjust the scale to make the table more compact\nplt.axis('off')  # Turn off axis\nplt.title('Most recently released Hepatitis B medicines \\n authorized for human usage', fontdict={'fontsize': 14, 'fontweight': 'bold'})\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-7-output-1.png){width=614 height=247}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files\\figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}